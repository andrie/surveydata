<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tools to Work with Survey Data • surveydata</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Tools to Work with Survey Data">
<meta property="og:description" content="Data obtained from surveys contains information not only about the
    survey responses, but also the survey metadata, e.g. the original survey
    questions and the answer options. The surveydata package makes it easy to
    keep track of this metadata, and to easily extract columns with
    specific questions.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">surveydata</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="articles/surveydata.html">Get started</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/andrie/surveydata/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="surveydata-tools-to-work-with-survey-data" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#surveydata-tools-to-work-with-survey-data" class="anchor"></a>Surveydata: Tools to Work with Survey Data</h1></div>
<p>master: <a href="https://travis-ci.org/andrie/surveydata"><img src="https://travis-ci.org/andrie/surveydata.svg?branch=master" alt="master build status"></a> dev: <a href="https://travis-ci.org/andrie/surveydata"><img src="https://travis-ci.org/andrie/surveydata.svg?branch=dev" alt="dev build status"></a> <a href="http://www.r-pkg.org/pkg/surveydata"><img src="http://www.r-pkg.org/badges/version/surveydata"></a> <a href="http://www.r-pkg.org/pkg/surveydata"><img src="http://cranlogs.r-pkg.org/badges/surveydata" alt="CRAN RStudio mirror downloads"></a> <a href="https://codecov.io/github/andrie/surveydata?branch=master"><img src="http://img.shields.io/codecov/c/github/andrie/surveydata/master.svg" alt="Coverage Status"></a></p>
<p>The <code>surveydata</code> package makes it easy to work with typical survey data that originated in SPSS or other formats.</p>
<div id="motivation" class="section level2">
<h2 class="hasAnchor">
<a href="#motivation" class="anchor"></a>Motivation</h2>
<p>Specifically, the package makes it easy to include the question text as metadata with the data itself.</p>
<p>To track the questions of a survey, you have two options:</p>
<ul>
<li>Keep the data in a data frame, and keep a separate list of the questions</li>
<li>Keep the questions as an attribute of the data frame</li>
</ul>
<p>Neither of these options are ideal, since any subsetting of the survey data means you must keep track of the question metadata separately.</p>
<p>This package solves the problem by creating a new class, <code>surveydata</code>, and keeping the questions as an attribute of this class. Whenever you do a subset operation, the metadata stays intact.</p>
<p>In addition, the metadata knows if a question consists of a single column, or multiple columns. When creating a subset on the question name, the resulting object can be either a single column or multiple columns.</p>
<div class="sourceCode" id="cb1"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">surveydata</span>)</pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">## Warning in as.POSIXlt.POSIXct(Sys.time()): unable to identify current timezone 'C':</a>
<a class="sourceLine" id="cb2-2" data-line-number="2">## please set environment variable 'TZ'</a></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">dplyr</span>)</pre></div>
<div class="sourceCode" id="cb4"><pre class="r"><span class="no">sv</span> <span class="kw">&lt;-</span> <span class="no">membersurvey</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html">as.tbl</a></span>()
<span class="no">sv</span></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">## # A tibble: 215 x 109</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">##       id  Q1_1  Q1_2 Q2    Q3_1  Q3_2  Q3_3  Q3_4  Q3_5  Q3_6  Q3_7  Q3_8  Q3_9 </a>
<a class="sourceLine" id="cb5-3" data-line-number="3">##    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;ord&gt; &lt;fct&gt; &lt;fct&gt; &lt;fct&gt; &lt;fct&gt; &lt;fct&gt; &lt;fct&gt; &lt;fct&gt; &lt;fct&gt; &lt;fct&gt;</a>
<a class="sourceLine" id="cb5-4" data-line-number="4">##  1     3     8   2   2009  No    No    No    No    No    No    No    No    No   </a>
<a class="sourceLine" id="cb5-5" data-line-number="5">##  2     5    35  12   Befo~ Yes   No    No    No    No    No    No    No    Yes  </a>
<a class="sourceLine" id="cb5-6" data-line-number="6">##  3     6    34  12   Befo~ Yes   Yes   No    No    No    Yes   No    No    No   </a>
<a class="sourceLine" id="cb5-7" data-line-number="7">##  4    11    20   9   2010  No    No    No    No    No    No    No    No    No   </a>
<a class="sourceLine" id="cb5-8" data-line-number="8">##  5    13    20   3   2010  No    No    No    No    No    No    No    No    No   </a>
<a class="sourceLine" id="cb5-9" data-line-number="9">##  6    15    36  20   Befo~ No    Yes   No    No    No    No    No    No    Yes  </a>
<a class="sourceLine" id="cb5-10" data-line-number="10">##  7    21    12   2.5 2009  Yes   No    No    No    No    Yes   Yes   No    No   </a>
<a class="sourceLine" id="cb5-11" data-line-number="11">##  8    22    11   0.5 2011  Yes   Yes   Yes   Yes   Yes   No    No    No    No   </a>
<a class="sourceLine" id="cb5-12" data-line-number="12">##  9    23    18   3   2008  Yes   Yes   Yes   Yes   Yes   Yes   No    No    Yes  </a>
<a class="sourceLine" id="cb5-13" data-line-number="13">## 10    25    24   8   2006  No    No    No    Yes   Yes   Yes   No    No    Yes  </a>
<a class="sourceLine" id="cb5-14" data-line-number="14">## # ... with 205 more rows, and 96 more variables: Q3_10 &lt;fct&gt;, Q3_11 &lt;fct&gt;,</a>
<a class="sourceLine" id="cb5-15" data-line-number="15">...</a></code></pre></div>
<p>Notice from this summary that Question 2 has two columns, i.e. <code>Q2_1</code> and <code>Q2_2</code>. You can extract both these columns by simply referring to <code>Q2</code>:</p>
<div class="sourceCode" id="cb6"><pre class="r"><span class="no">sv</span>[, <span class="st">"Q2"</span>]</pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">## # A tibble: 215 x 1</a>
<a class="sourceLine" id="cb7-2" data-line-number="2">##    Q2         </a>
<a class="sourceLine" id="cb7-3" data-line-number="3">##    &lt;ord&gt;      </a>
<a class="sourceLine" id="cb7-4" data-line-number="4">##  1 2009       </a>
<a class="sourceLine" id="cb7-5" data-line-number="5">##  2 Before 2002</a>
<a class="sourceLine" id="cb7-6" data-line-number="6">##  3 Before 2002</a>
<a class="sourceLine" id="cb7-7" data-line-number="7">##  4 2010       </a>
<a class="sourceLine" id="cb7-8" data-line-number="8">##  5 2010       </a>
<a class="sourceLine" id="cb7-9" data-line-number="9">##  6 Before 2002</a>
<a class="sourceLine" id="cb7-10" data-line-number="10">##  7 2009       </a>
<a class="sourceLine" id="cb7-11" data-line-number="11">##  8 2011       </a>
<a class="sourceLine" id="cb7-12" data-line-number="12">##  9 2008       </a>
<a class="sourceLine" id="cb7-13" data-line-number="13">## 10 2006       </a>
<a class="sourceLine" id="cb7-14" data-line-number="14">## # ... with 205 more rows</a></code></pre></div>
<p>However, the subset of <code>Q1</code> returns only a single column:</p>
<div class="sourceCode" id="cb8"><pre class="r"><span class="no">sv</span>[, <span class="st">"Q2"</span>]</pre></div>
<div class="sourceCode" id="cb9"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">## # A tibble: 215 x 1</a>
<a class="sourceLine" id="cb9-2" data-line-number="2">##    Q2         </a>
<a class="sourceLine" id="cb9-3" data-line-number="3">##    &lt;ord&gt;      </a>
<a class="sourceLine" id="cb9-4" data-line-number="4">##  1 2009       </a>
<a class="sourceLine" id="cb9-5" data-line-number="5">##  2 Before 2002</a>
<a class="sourceLine" id="cb9-6" data-line-number="6">##  3 Before 2002</a>
<a class="sourceLine" id="cb9-7" data-line-number="7">##  4 2010       </a>
<a class="sourceLine" id="cb9-8" data-line-number="8">##  5 2010       </a>
<a class="sourceLine" id="cb9-9" data-line-number="9">##  6 Before 2002</a>
<a class="sourceLine" id="cb9-10" data-line-number="10">##  7 2009       </a>
<a class="sourceLine" id="cb9-11" data-line-number="11">##  8 2011       </a>
<a class="sourceLine" id="cb9-12" data-line-number="12">##  9 2008       </a>
<a class="sourceLine" id="cb9-13" data-line-number="13">## 10 2006       </a>
<a class="sourceLine" id="cb9-14" data-line-number="14">## # ... with 205 more rows</a></code></pre></div>
<p>Note that in both cases the <code>surveydata</code> object doesn’t return a vector</p>
<ul>
<li>subsetting a <code>surveydata</code> object always returns a <code>surveydata</code> object.</li>
</ul>
</div>
<div id="about-surveydata-objects" class="section level2">
<h2 class="hasAnchor">
<a href="#about-surveydata-objects" class="anchor"></a>About surveydata objects</h2>
<p>A surveydata object consists of:</p>
<ul>
<li><p>A data frame with a row for each respondent and a column for each question. Column names are typically names in the pattern <code>Q1</code>, <code>Q2_1</code>, <code>Q2_2</code>, <code>Q3</code> - where underscores separate the sub-questions when these originated in a grid (array) of questions.</p></li>
<li><p>Question metadata gets stored in the `{variable.labels} attribute of the data frame. This typically contains the original questionnaire text for each question.</p></li>
<li><p>Information about the sub-question separator (typically an underscore) is stored in the <code>patterns</code> attribute.</p></li>
</ul>
<p>Data processing a survey file can be tricky, since the standard methods for dealing with data frames does not conserve the <code>variable.labels</code> attribute. The <code>surveydata</code> package defines a <code>surveydata</code> class and the following methods that knows how to deal with the <code>variable.labels</code> attribute:</p>
<ul>
<li><code>as.surveydata</code></li>
<li><code>[.surveydata</code></li>
<li><code>[&lt;-.surveydata</code></li>
<li><code>$.surveydata</code></li>
<li><code>$&lt;-.surveydata</code></li>
<li><code>merge.surveydata</code></li>
</ul>
<p>In addition, <code>surveydata</code> defines the following convenient methods for extracting and working with the variable labels:</p>
<ul>
<li><code>varlabels</code></li>
<li><code>varlabels&lt;-</code></li>
</ul>
</div>
<div id="defining-a-surveydata-object" class="section level2">
<h2 class="hasAnchor">
<a href="#defining-a-surveydata-object" class="anchor"></a>Defining a surveydata object</h2>
<p>First load the <code>surveydata</code> package.</p>
<div class="sourceCode" id="cb10"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">surveydata</span>)</pre></div>
<p>Next, create sample data. A data frame is the ideal data structure for survey data, and the convention is that data for each respondent is stored in the rows, while each column represents answers to a specific question.</p>
<div class="sourceCode" id="cb11"><pre class="r"><span class="no">sdat</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(
   <span class="kw">id</span>   <span class="kw">=</span> <span class="fl">1</span>:<span class="fl">4</span>,
   <span class="kw">Q1</span>   <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Yes"</span>, <span class="st">"No"</span>, <span class="st">"Yes"</span>, <span class="st">"Yes"</span>),
   <span class="kw">Q4_1</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">2</span>),
   <span class="kw">Q4_2</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">4</span>, <span class="fl">3</span>),
   <span class="kw">Q4_3</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">5</span>, <span class="fl">5</span>, <span class="fl">6</span>, <span class="fl">6</span>),
   <span class="kw">Q10</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Male"</span>, <span class="st">"Female"</span>, <span class="st">"Female"</span>, <span class="st">"Male"</span>)),
   <span class="kw">crossbreak</span>  <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"A"</span>, <span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"B"</span>),
   <span class="kw">weight</span>      <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">0.9</span>, <span class="fl">1.1</span>, <span class="fl">0.8</span>, <span class="fl">1.2</span>)
)</pre></div>
<p>The survey metadata consists of the questionnaire text. For example, this can be represented by a character vector, with an element for each question.</p>
<p>To assign this metadata to the survey data, use the <code><a href="reference/varlabels.html">varlabels()</a></code> function. This function assigns the questionnaire text to the <code>variable.labels</code> attribute of the data frame.</p>
<div class="sourceCode" id="cb12"><pre class="r"><span class="fu"><a href="reference/varlabels.html">varlabels</a></span>(<span class="no">sdat</span>) <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(
   <span class="st">"RespID"</span>,
   <span class="st">"Question 1"</span>,
   <span class="st">"Question 4: red"</span>, <span class="st">"Question 4: green"</span>, <span class="st">"Question 4: blue"</span>,
   <span class="st">"Question 10"</span>,
   <span class="st">"crossbreak"</span>,
   <span class="st">"weight"</span>
)</pre></div>
<p>Finally, create the surveydata object. To do this, call the <code><a href="reference/as.surveydata.html">as.surveydata()</a></code> function. The argument <code>renameVarlabels</code> controls whether the <code>varlabels</code> get renamed with the same names as the data. This is an essential step, and ensures that the question text remains in synch with the column names.</p>
<div class="sourceCode" id="cb13"><pre class="r"><span class="no">sv</span> <span class="kw">&lt;-</span> <span class="fu"><a href="reference/as.surveydata.html">as.surveydata</a></span>(<span class="no">sdat</span>, <span class="kw">renameVarlabels</span> <span class="kw">=</span> <span class="fl">TRUE</span>)</pre></div>
</div>
<div id="extracting-specific-questions" class="section level2">
<h2 class="hasAnchor">
<a href="#extracting-specific-questions" class="anchor"></a>Extracting specific questions</h2>
<p>It is easy to extract specific questions with the <code><a href="reference/extract.html">[</a></code> operator. This works very similar to extraction of data frames. However, there are two important differences:</p>
<ul>
<li>The extraction operators will always return a <code>surveydata</code> object, even if only a single column is returned. This is different from the behaviour of data frames, where a single column is simplified to a vector.</li>
<li>Extracting a question with multiple sub-questions, e.g. “Q4” returns multiple columns</li>
</ul>
<!-- end list --><div class="sourceCode" id="cb14"><pre class="r"><span class="no">sv</span>[, <span class="st">"Q1"</span>]</pre></div>
<div class="sourceCode" id="cb15"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1">##    Q1</a>
<a class="sourceLine" id="cb15-2" data-line-number="2">## 1 Yes</a>
<a class="sourceLine" id="cb15-3" data-line-number="3">## 2  No</a>
<a class="sourceLine" id="cb15-4" data-line-number="4">## 3 Yes</a>
<a class="sourceLine" id="cb15-5" data-line-number="5">## 4 Yes</a></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="r"><span class="no">sv</span>[, <span class="st">"Q4"</span>]</pre></div>
<div class="sourceCode" id="cb17"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1">##   Q4_1 Q4_2 Q4_3</a>
<a class="sourceLine" id="cb17-2" data-line-number="2">## 1    1    3    5</a>
<a class="sourceLine" id="cb17-3" data-line-number="3">## 2    2    4    5</a>
<a class="sourceLine" id="cb17-4" data-line-number="4">## 3    1    4    6</a>
<a class="sourceLine" id="cb17-5" data-line-number="5">## 4    2    3    6</a></code></pre></div>
<p>The extraction makes use of the underlying metadata, contained in the <code>varlabels</code> and <code>pattern</code> attributes:</p>
<div class="sourceCode" id="cb18"><pre class="r"><span class="fu"><a href="reference/varlabels.html">varlabels</a></span>(<span class="no">sv</span>)</pre></div>
<div class="sourceCode" id="cb19"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1">##                  id                  Q1                Q4_1                Q4_2 </a>
<a class="sourceLine" id="cb19-2" data-line-number="2">##            "RespID"        "Question 1"   "Question 4: red" "Question 4: green" </a>
<a class="sourceLine" id="cb19-3" data-line-number="3">##                Q4_3                 Q10          crossbreak              weight </a>
<a class="sourceLine" id="cb19-4" data-line-number="4">##  "Question 4: blue"       "Question 10"        "crossbreak"            "weight"</a></code></pre></div>
<div class="sourceCode" id="cb20"><pre class="r"><span class="fu"><a href="reference/pattern.html">pattern</a></span>(<span class="no">sv</span>)</pre></div>
<div class="sourceCode" id="cb21"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1">## $sep</a>
<a class="sourceLine" id="cb21-2" data-line-number="2">## [1] "_"</a>
<a class="sourceLine" id="cb21-3" data-line-number="3">## </a>
<a class="sourceLine" id="cb21-4" data-line-number="4">## $exclude</a>
<a class="sourceLine" id="cb21-5" data-line-number="5">## [1] "other"</a></code></pre></div>
</div>
<div id="working-with-question-columns" class="section level2">
<h2 class="hasAnchor">
<a href="#working-with-question-columns" class="anchor"></a>Working with question columns</h2>
<p>It is easy to query the surveydata object to find out which questions it contains, as well as which columns store the data for those questions.</p>
<div class="sourceCode" id="cb22"><pre class="r"><span class="fu"><a href="reference/questions.html">questions</a></span>(<span class="no">sv</span>)</pre></div>
<div class="sourceCode" id="cb23"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1">## [1] "id"         "Q1"         "Q4"         "Q10"        "crossbreak"</a>
<a class="sourceLine" id="cb23-2" data-line-number="2">## [6] "weight"</a></code></pre></div>
<div class="sourceCode" id="cb24"><pre class="r"><span class="fu"><a href="reference/which.q.html">which.q</a></span>(<span class="no">sv</span>, <span class="st">"Q1"</span>)</pre></div>
<div class="sourceCode" id="cb25"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1">## [1] 2</a></code></pre></div>
<div class="sourceCode" id="cb26"><pre class="r"><span class="fu"><a href="reference/which.q.html">which.q</a></span>(<span class="no">sv</span>, <span class="st">"Q4"</span>)</pre></div>
<div class="sourceCode" id="cb27"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" data-line-number="1">## [1] 3 4 5</a></code></pre></div>
</div>
<div id="reading-the-questionnaire-text" class="section level2">
<h2 class="hasAnchor">
<a href="#reading-the-questionnaire-text" class="anchor"></a>Reading the questionnaire text</h2>
<p>The function <code><a href="reference/question_text.html">question_text()</a></code> gives access to the questionnaire text.</p>
<div class="sourceCode" id="cb28"><pre class="r"><span class="fu"><a href="reference/question_text.html">question_text</a></span>(<span class="no">sv</span>, <span class="st">"Q1"</span>)</pre></div>
<div class="sourceCode" id="cb29"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" data-line-number="1">## [1] "Question 1"</a></code></pre></div>
<div class="sourceCode" id="cb30"><pre class="r"><span class="fu"><a href="reference/question_text.html">question_text</a></span>(<span class="no">sv</span>, <span class="st">"Q4"</span>)</pre></div>
<div class="sourceCode" id="cb31"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" data-line-number="1">## [1] "Question 4: red"   "Question 4: green" "Question 4: blue"</a></code></pre></div>
<div id="getting-the-common-question-text" class="section level3">
<h3 class="hasAnchor">
<a href="#getting-the-common-question-text" class="anchor"></a>Getting the common question text</h3>
<p>Use <code><a href="reference/question_text_common.html">question_text_common()</a></code> to retrieve the common text, i.e. the question itself:</p>
<div class="sourceCode" id="cb32"><pre class="r"><span class="fu"><a href="reference/question_text_common.html">question_text_common</a></span>(<span class="no">sv</span>, <span class="st">"Q4"</span>)</pre></div>
<div class="sourceCode" id="cb33"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" data-line-number="1">## [1] "Question 4"</a></code></pre></div>
</div>
<div id="getting-the-unique-question-text" class="section level3">
<h3 class="hasAnchor">
<a href="#getting-the-unique-question-text" class="anchor"></a>Getting the unique question text</h3>
<p>And use <code><a href="reference/question_text_unique.html">question_text_unique()</a></code> to retrieve the unique part of the question, i.e. the sub-questions:</p>
<div class="sourceCode" id="cb34"><pre class="r"><span class="fu"><a href="reference/question_text_unique.html">question_text_unique</a></span>(<span class="no">sv</span>, <span class="st">"Q4"</span>)</pre></div>
<div class="sourceCode" id="cb35"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" data-line-number="1">## [1] "red"   "green" "blue"</a></code></pre></div>
</div>
</div>
<div id="using-surveydata-with-dplyr" class="section level2">
<h2 class="hasAnchor">
<a href="#using-surveydata-with-dplyr" class="anchor"></a>Using <code>surveydata</code> with <code>dplyr</code>
</h2>
<p>The <code>surveydata</code> object knows how to deal with the following <code>dplyr</code> verbs:</p>
<ul>
<li><code>select</code></li>
<li><code>filter</code></li>
<li><code>mutate</code></li>
<li><code>arrange</code></li>
<li><code>summarize</code></li>
</ul>
<p>In every case the resulting object will also be of class <code>surveydata</code>.</p>
</div>
<div id="summary" class="section level2">
<h2 class="hasAnchor">
<a href="#summary" class="anchor"></a>Summary</h2>
<p>The <code>surveydata</code> object can make it much easier to work with survey data.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=surveydata">https://​cloud.r-project.org/​package=surveydata</a>
</li>
<li>Browse source code at <br><a href="https://github.com/andrie/surveydata/">https://​github.com/​andrie/​surveydata/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/andrie/surveydata/issues">https://​github.com/​andrie/​surveydata/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a>|<a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Andrie de Vries <br><small class="roles"> Author, maintainer, copyright holder </small>  </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Andrie de Vries.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
